
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Determining Level Flight Velocity &#8212; Predicting Indoor Flight Times With Python</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://rblack42.github.io/nffs-2022-symposium-live/content/level-flight-velocity.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Predicting Indoor Flight Times With Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/index.html">
   Predicting Indoor Model Flight Time Using Python
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../frontmatter/overview.html">
   1. Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../background/simplified-indoor-design.html">
   2. Simplified Indoor Design
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../background/tenny-data-analysis.html">
   3. Tennyâ€™s Flight Path Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../background/data-smoothing.html">
   4. Data Smoothing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../backmatter/bibliography.html">
   5. Bibliography
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../backmatter/biography.html">
   6. Biography
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/content/level-flight-velocity.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/rblack42/nffs-2022-symposium-live"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/rblack42/nffs-2022-symposium-live/issues/new?title=Issue%20on%20page%20%2Fcontent/level-flight-velocity.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.ord/v2/gh/rblack42/nffs-2022-symposium-live/master?urlpath=tree/docs/content/level-flight-velocity.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#coordinate-atransformations">
   Coordinate atransformations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reynolds-number">
   Reynolds Number
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#estimated-flight-distance">
   Estimated Flight Distance
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rubber-motors">
   Rubber Motors
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Determining Level Flight Velocity</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#coordinate-atransformations">
   Coordinate atransformations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reynolds-number">
   Reynolds Number
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#estimated-flight-distance">
   Estimated Flight Distance
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rubber-motors">
   Rubber Motors
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="determining-level-flight-velocity">
<h1>Determining Level Flight Velocity<a class="headerlink" href="#determining-level-flight-velocity" title="Permalink to this headline">Â¶</a></h1>
<p>Following Walter Erbachâ€™s lead, letâ€™s try to find the forward velocity needed for the Wart to maintain level flight.</p>
<p>First, we need to load the basic model airframe data and the airfoil coefficient data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mmtime_helper</span>
<span class="kn">from</span> <span class="nn">mmtime.utils</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">get_points</span><span class="p">,</span>
    <span class="n">fit_curve</span><span class="p">,</span>
    <span class="n">show_curve</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="coordinate-atransformations">
<h2>Coordinate atransformations<a class="headerlink" href="#coordinate-atransformations" title="Permalink to this headline">Â¶</a></h2>
<p>so far, we have specified locations in a reference coordinate system whose origin is at the nose of the motor stick. In order to calculate the moments about the center of gravity, it will be convenient to express locations in a system aligned with the CG and rotated so the <strong>X</strong> axis is aligned with the motor stick at some angle of attack.</p>
<p>We could dig out our trig books and figure out the arms, or we can just perform coordinate transformations numerically. With a little bit of matrix math, this will be fairly simple:</p>
<p>Here are the definitions of the transformation matrices we need:</p>
<p>Here is the translation matrix:</p>
<div class="amsmath math notranslate nohighlight" id="equation-22a11cfd-1610-4ddd-9572-c2abc14d8288">
<span class="eqno">()<a class="headerlink" href="#equation-22a11cfd-1610-4ddd-9572-c2abc14d8288" title="Permalink to this equation">Â¶</a></span>\[\begin{equation}
T = 
\begin{pmatrix}
1 &amp; 0 &amp; -dx \\
0 &amp; 1 &amp; -dy \\
0 &amp; 0 &amp; 1
\end{pmatrix}
\end{equation}\]</div>
<p>And here is the rotation matrix:</p>
<div class="amsmath math notranslate nohighlight" id="equation-f4d00c62-8e7a-4bec-8dfc-e3adc8aa0b3d">
<span class="eqno">()<a class="headerlink" href="#equation-f4d00c62-8e7a-4bec-8dfc-e3adc8aa0b3d" title="Permalink to this equation">Â¶</a></span>\[\begin{equation}
R = 
\begin{pmatrix}
\cos\alpha &amp; \sin\alpha &amp; 0 \\
-\sin\alpha &amp; \cos\alpha &amp; 0 \\
0 &amp; 0 &amp; 1
\end{pmatrix}
\end{equation}\]</div>
<p>We transform our coordinates using this equation:</p>
<div class="amsmath math notranslate nohighlight" id="equation-10724091-5eb2-47e1-a7f8-798a07eed361">
<span class="eqno">()<a class="headerlink" href="#equation-10724091-5eb2-47e1-a7f8-798a07eed361" title="Permalink to this equation">Â¶</a></span>\[\begin{equation}
X' = R T X
\end{equation}\]</div>
<p>where <span class="math notranslate nohighlight">\(X\)</span> is a simple matrix:</p>
<div class="amsmath math notranslate nohighlight" id="equation-9c8a8216-3ea9-4441-824b-8d5d02560e22">
<span class="eqno">()<a class="headerlink" href="#equation-9c8a8216-3ea9-4441-824b-8d5d02560e22" title="Permalink to this equation">Â¶</a></span>\[\begin{equation}\label{eq:}
X = 
\begin{pmatrix}
x \\
y
\\1
\end{pmatrix}
\end{equation}\]</div>
<p><strong>numpy</strong> will do this transformation for us:</p>
<p>Here are two functions that create transformation matrices we will need:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">rotation</span><span class="p">(</span><span class="n">angle</span><span class="p">):</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
        <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">),</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">),</span>  <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">),</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="p">])</span>

<span class="k">def</span> <span class="nf">translation</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">tx</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="n">ty</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Here is an example of coordinst translation. We are moving the origin ot (3,3) and finding the original origin in the new system:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x1</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">y1</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">T</span> <span class="o">=</span> <span class="n">translation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">x1</span><span class="p">],[</span><span class="n">y1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">x2</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">x2</span><span class="p">,</span> <span class="n">y2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(-3, -3)
</pre></div>
</div>
</div>
</div>
<p>That makes sense. Not letâ€™s rotate the new system 45 degrees counter clockwise. This will align the <strong>x</strong> axis so it goes through the original origin:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">R</span> <span class="o">=</span> <span class="n">rotation</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="n">x2</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">x2</span><span class="p">,</span><span class="n">y2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(-4.242640687119286, -4.440892098500626e-16)
</pre></div>
</div>
</div>
</div>
<p>That looks right. We have a scheme to calculate the moment arms for our model at some angle of attack.</p>
<p>We will be calculating moments for the lift, drag and thrust vectors in this transformed coordinate system. A lift force acting at negative <strong>x</strong> values will of the CG will generate a nose up moment, so we will have to multiply by negative <strong>x</strong> when we calculate moments. The drag force  will be multiplied by positive <strong>Y</strong> values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Basic Moment Calculation</span>
</pre></div>
</div>
</div>
</div>
<p>At the moment, I do not have good airfoil data for the airfoils on the Wart, so I will use the 3% arc for both wing and stab. We need to generate the Cl curve fit function for this calculation. I wrapped up all the data needed for this calculation using three Python classes, one for model dimensions, one for airfoil coefficients, and one foe the standard atmosphere properties we need. These classes use code we have already seen in this study. You can see all of the code used here on the project website. Here is how we use it:</p>
<p>We need the air density for this calculation. The <strong>StdAtm</strong> module in this project provides that, using <strong>pint</strong> to manage units:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mmtime.StdAtm</span> <span class="kn">import</span> <span class="n">Air</span>
<span class="kn">import</span> <span class="nn">pint</span>
<span class="n">u</span> <span class="o">=</span> <span class="n">pint</span><span class="o">.</span><span class="n">UnitRegistry</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>

  <span class="n">File</span> <span class="s2">&quot;/Users/rblack/_dev/nffs-symposium/live-2022/.direnv/python-3.9.9/lib/python3.9/site-packages/IPython/core/interactiveshell.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">3457</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run_code</span>
    <span class="n">exec</span><span class="p">(</span><span class="n">code_obj</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_global_ns</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_ns</span><span class="p">)</span>

  <span class="n">File</span> <span class="s2">&quot;/var/folders/t9/hc5s57h95tj3rsp4qvk61m8m0000gn/T/ipykernel_44397/330856896.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">mmtime.StdAtm</span> <span class="kn">import</span> <span class="n">Air</span>

<span class="gt">  File</span><span class="nn"> &quot;/Users/rblack/_dev/nffs-symposium/live-2022/mmtime/StdAtm.py&quot;</span><span class="gt">, line </span><span class="mi">24</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="n">osawatomie</span><span class="o">-</span><span class="n">std</span><span class="o">-</span><span class="n">atm</span><span class="o">.</span><span class="n">png</span>
            <span class="o">^</span>
<span class="ne">SyntaxError</span>: invalid syntax
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">density</span> <span class="o">=</span> <span class="n">Air</span><span class="p">(</span><span class="n">u</span><span class="p">)</span><span class="o">.</span><span class="n">get_properties</span><span class="p">(</span><span class="mi">864</span><span class="p">)[</span><span class="s1">&#39;rho&#39;</span><span class="p">]</span>
<span class="n">density</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">1.1265797847090362 kilogram/meter<sup>3</sup></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Cl</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="c1"># try McLean&#39;s tactic</span>
<span class="n">weight</span> <span class="o">=</span> <span class="mf">2.06</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">grams</span>
<span class="n">wing_area</span> <span class="o">=</span> <span class="mi">30</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">inch</span> <span class="o">**</span> <span class="mi">2</span>
<span class="n">stab_area</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">inch</span> <span class="o">**</span> <span class="mi">2</span>
<span class="n">v</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">weight</span> <span class="o">/</span> <span class="p">(</span><span class="n">density</span> <span class="o">*</span> <span class="n">Cl</span> <span class="o">*</span> <span class="p">(</span><span class="n">wing_area</span><span class="o">+</span> <span class="n">stab_area</span><span class="p">))</span>
<span class="n">v</span> <span class="o">*=</span> <span class="n">u</span><span class="o">.</span><span class="n">gravity</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">v</span> <span class="o">**</span> <span class="mf">0.5</span>
<span class="n">v</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s1">&#39;mph&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">2.486231765000739 mile_per_hour</div></div>
</div>
<p>Gary estimated that the Wart was flying at about two miles per hour, so this calculation looks reasonable. Letâ€™s set things up to generate an angle of attach sweep with some actual model data.</p>
</div>
<div class="section" id="reynolds-number">
<h2>Reynolds Number<a class="headerlink" href="#reynolds-number" title="Permalink to this headline">Â¶</a></h2>
<p>An important quantity in aerodynamic work is the Reynoldâ€™s Number, a nndimensional value that relates the viscous forces to the inertial forces workingon a surface. This number is commonly used to characterize the type of airflow a vehicle might experience. For our indoor models, this number will be low meaning that the flow near the surface of our fling syrfaces should remain laminar. This means we do not need to worry about turbulence near the surface</p>
<p>(This section needs to be expanded)</p>
<p>The definition of the Reynolds NUmber is:</p>
<div class="amsmath math notranslate nohighlight" id="equation-0e2416f0-3857-4147-a6f8-e4efef3bb9e4">
<span class="eqno">()<a class="headerlink" href="#equation-0e2416f0-3857-4147-a6f8-e4efef3bb9e4" title="Permalink to this equation">Â¶</a></span>\[\begin{equation}
RE = \frac{\rho u L}{\mu}
\end{equation}\]</div>
<p>Where <span class="math notranslate nohighlight">\(\rho\)</span> is the air density, <span class="math notranslate nohighlight">\(u\)</span> is the flight velocity, <span class="math notranslate nohighlight">\(L\)</span> is a reference length usually the mean chord, and <span class="math notranslate nohighlight">\(the \mu\)</span> is the dynamic viscosity of the air.</p>
<p>Here is a sample calculation:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean_chord</span> <span class="o">=</span> <span class="mf">1.85</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">inch</span>
<span class="n">mu</span> <span class="o">=</span> <span class="n">Air</span><span class="p">(</span><span class="n">u</span><span class="p">)</span><span class="o">.</span><span class="n">get_properties</span><span class="p">(</span><span class="mi">864</span><span class="p">)[</span><span class="s1">&#39;mu&#39;</span><span class="p">]</span>
<span class="n">RE</span> <span class="o">=</span> <span class="n">density</span> <span class="o">*</span> <span class="n">v</span> <span class="o">*</span> <span class="n">mean_chord</span> <span class="o">/</span> <span class="n">mu</span>
<span class="n">RE</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">3338.9543875201584 dimensionless</div></div>
</div>
<p>Airfoil aerodynamic coefficients vary with Reynolds Number, which presents a problem when doing an analysis. We need the aerodynamic coefficients to calculate the flight velocity, and they are tied to a Reynolds Number we will not know until we pick an airfoil. In this calculation, I simply set the lift coefficient. If I wanted to use better data, I would have to pick an airfoil based on some number I hoped would be close, do the calculations, and tune the airfoil until I got close enough to be happy with the results.</p>
<p>There are ways to deal with this that I intend to explore later. Since I have a lot of background in Computational Fluid Dynamics, I am currently testing several simple open-source CFD programs that might help simplify the search for airfoil data.</p>
</div>
<div class="section" id="estimated-flight-distance">
<h2>Estimated Flight Distance<a class="headerlink" href="#estimated-flight-distance" title="Permalink to this headline">Â¶</a></h2>
<p>One of the key assumptions in McLeanâ€™s method is that the energy spend clmbing to maximum height is about equal to the energy spend descending back to the floor. This make sense if you think about potential energy. Therefore, McLean argued that we could average the flight out to a simple level fight path for the duration of the flight. We just calculated the speed, what would that predict for the distance traveled:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">distance</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="mi">618</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">seconds</span>
<span class="n">distance</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">686.873039803625 meter</div></div>
</div>
<p>Moving the model that distance requires some energy:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">KE</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">weight</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">gravity</span> <span class="o">*</span> <span class="n">v</span> <span class="o">**</span> <span class="mi">2</span>
<span class="n">KE</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">0.0001297455704121917 kilogram meter</div></div>
</div>
</div>
<div class="section" id="rubber-motors">
<h2>Rubber Motors<a class="headerlink" href="#rubber-motors" title="Permalink to this headline">Â¶</a></h2>
<p>According to McLean, Hacklinger, and others, the amountof energy we can get out of  our wound-up rubber motors is proportional to the weight of themotor.</p>
<div class="amsmath math notranslate nohighlight" id="equation-6ee7fca3-6c15-4bd5-973c-6b6bb6d064b6">
<span class="eqno">()<a class="headerlink" href="#equation-6ee7fca3-6c15-4bd5-973c-6b6bb6d064b6" title="Permalink to this equation">Â¶</a></span>\[\begin{equation}
E = K W_m
\end{equation}\]</div>
<p>Where, according to McLean, <span class="math notranslate nohighlight">\(K = 30,000 inches\)</span>.</p>
<p>The Warts motor weight 0.86 grams, so the available energy was:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rubber_weight</span> <span class="o">=</span> <span class="mf">0.86</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">grams</span>
<span class="n">K</span> <span class="o">=</span> <span class="mi">30000</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">inches</span>

<span class="n">E_max</span> <span class="o">=</span> <span class="n">K</span> <span class="o">*</span> <span class="n">rubber_weight</span>
<span class="n">E_max</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">0.65532 kilogram meter</div></div>
</div>
<p>This number represents a <em>Potential Energy</em> that we want to power our model. We wind up the motor, producing a torque that will be applied to the prop shaft. For the Wart, the launch torque was arounf 0.31 If we turned that much potential energy into kinetic energy, our model could be traveling at:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">V_k</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">E_max</span><span class="o">/</span><span class="n">weight</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">gravity</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span>
<span class="n">V_k</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">78.98933120782954 meter/second</div></div>
</div>
<p>Our model is certainly not moving that fast, but if we used our rubber motor as a sling-shot, we could probably throw a 2 gram chunk of lead across the room at that speed. So where did all that energy go?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">stl</span>
<span class="kn">from</span> <span class="nn">stl</span> <span class="kn">import</span> <span class="n">mesh</span>
<span class="n">your_mesh</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">Mesh</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s1">&#39;propeller.stl&#39;</span><span class="p">)</span>
<span class="n">volume</span><span class="p">,</span> <span class="n">cog</span><span class="p">,</span> <span class="n">inertia</span> <span class="o">=</span> <span class="n">your_mesh</span><span class="o">.</span><span class="n">get_mass_properties</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">inertia</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[ 5.25428242e-01  8.91828065e-11  7.31385415e-15]
 [ 8.91828065e-11  5.24494901e-01 -2.50452413e-02]
 [ 7.31385415e-15 -2.50452413e-02  1.44970048e-02]]
</pre></div>
</div>
</div>
</div>
<p>The rotational energy of the propeller is the energy absorbed by spinning the mass of the propeller around the prop shaft. Using OpenSCAD and <strong>numpy-stl</strong> I calculated the moments of inertia for the propeller. This non-dimensional number needs to be multiplied by the propeller mass:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np_I</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">inertia</span><span class="p">)</span>
<span class="n">KE_I</span> <span class="o">=</span> <span class="n">np_I</span> <span class="o">*</span> <span class="n">weight</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">gravity</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">inches</span><span class="o">**</span><span class="mi">2</span>
<span class="n">KE_I</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table><tbody><tr><th>Magnitude</th><td style='text-align:left;'><pre>[[7.120777092599685e-08 1.2086348509529597e-17 9.911976720526673e-22]<br> [1.2086348509529597e-17 7.10812814808122e-08 -3.3942138291733913e-09]<br> [9.911976720526673e-22 -3.3942138291733913e-09 1.9646819769693285e-09]]</pre></td></tr><tr><th>Units</th><td style='text-align:left;'>kilogram meter second<sup>2</sup></td></tr></tbody></table></div></div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Roie R. Black<br/>
    
        &copy; Copyright 2022.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>